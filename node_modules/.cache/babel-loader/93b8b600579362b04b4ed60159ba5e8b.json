{"ast":null,"code":"var _jsxFileName = \"D:\\\\School\\\\HK1-n\\u0103m 4\\\\Nh\\u1EADp m\\xF4n CNPM\\\\doan\\\\NongSanXanh\\\\reactjs\\\\src\\\\layouts\\\\AdminLayout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { checkRoleIsValid } from './../utils/checkRoleIsValid';\nimport AdminHeader from './../components/partials/admin/AdminHeader';\nimport AdminFooter from '../components/partials/admin/AdminFooter';\nimport { AuthContext } from './../contexts/member/AuthContext';\nimport * as AUTH_TYPE from './../reducers/member/authType';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminLayout({\n  children,\n  roles,\n  title\n}) {\n  _s();\n\n  const {\n    authState,\n    dispatch\n  } = useContext(AuthContext);\n  document.title = title;\n  useEffect(() => {\n    dispatch({\n      type: AUTH_TYPE.SET_AUTH,\n      payload: null\n    });\n  }, []);\n\n  if (authState.authLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center mt-2 my-loading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 4\n    }, this);\n  }\n\n  if (!checkRoleIsValid(roles, authState.permission)) return /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/error-401\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 10\n  }, this);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout-admin\",\n      children: [/*#__PURE__*/_jsxDEV(AdminHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(AdminFooter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 3\n  }, this);\n}\n\n_s(AdminLayout, \"SwgwRVKovt8reltyM9c+7N/xDIc=\");\n\n_c = AdminLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminLayout\");","map":{"version":3,"sources":["D:/School/HK1-năm 4/Nhập môn CNPM/doan/NongSanXanh/reactjs/src/layouts/AdminLayout.js"],"names":["React","useContext","useEffect","Link","Redirect","checkRoleIsValid","AdminHeader","AdminFooter","AuthContext","AUTH_TYPE","AdminLayout","children","roles","title","authState","dispatch","document","type","SET_AUTH","payload","authLoading","permission"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AAEA,SAASC,gBAAT,QAAiC,6BAAjC;AAEA,OAAOC,WAAP,MAAwB,4CAAxB;AACA,OAAOC,WAAP,MAAwB,0CAAxB;AAEA,SAASC,WAAT,QAA4B,kCAA5B;AACA,OAAO,KAAKC,SAAZ,MAA2B,+BAA3B;;AAEA,eAAe,SAASC,WAAT,CAAqB;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,KAAZ;AAAmBC,EAAAA;AAAnB,CAArB,EAAiD;AAAA;;AAC/D,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA0Bd,UAAU,CAACO,WAAD,CAA1C;AAEAQ,EAAAA,QAAQ,CAACH,KAAT,GAAiBA,KAAjB;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACfa,IAAAA,QAAQ,CAAC;AACRE,MAAAA,IAAI,EAAER,SAAS,CAACS,QADR;AAERC,MAAAA,OAAO,EAAE;AAFD,KAAD,CAAR;AAIA,GALQ,EAKN,EALM,CAAT;;AAOA,MAAIL,SAAS,CAACM,WAAd,EAA2B;AAC1B,wBACC;AAAK,MAAA,SAAS,EAAC,kEAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAOA;;AAED,MAAI,CAACf,gBAAgB,CAACO,KAAD,EAAQE,SAAS,CAACO,UAAlB,CAArB,EACC,oBAAO,QAAC,QAAD;AAAU,IAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,UAAP;AAED,sBACC,QAAC,KAAD,CAAO,QAAP;AAAA,2BACC;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACC,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,cADD,eAEC;AAAA,kBAAMV;AAAN;AAAA;AAAA;AAAA;AAAA,cAFD,eAGC,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,cAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AASA;;GAlCuBD,W;;KAAAA,W","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nimport { checkRoleIsValid } from './../utils/checkRoleIsValid';\r\n\r\nimport AdminHeader from './../components/partials/admin/AdminHeader';\r\nimport AdminFooter from '../components/partials/admin/AdminFooter';\r\n\r\nimport { AuthContext } from './../contexts/member/AuthContext';\r\nimport * as AUTH_TYPE from './../reducers/member/authType';\r\n\r\nexport default function AdminLayout({ children, roles, title }) {\r\n\tconst { authState, dispatch } = useContext(AuthContext);\r\n\r\n\tdocument.title = title;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({\r\n\t\t\ttype: AUTH_TYPE.SET_AUTH,\r\n\t\t\tpayload: null,\r\n\t\t});\r\n\t}, []);\r\n\r\n\tif (authState.authLoading) {\r\n\t\treturn (\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-2 my-loading\">\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<h1>Loading...</h1>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (!checkRoleIsValid(roles, authState.permission))\r\n\t\treturn <Redirect to=\"/error-401\" />;\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div className=\"layout-admin\">\r\n\t\t\t\t<AdminHeader />\r\n\t\t\t\t<div>{children}</div>\r\n\t\t\t\t<AdminFooter />\r\n\t\t\t</div>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}